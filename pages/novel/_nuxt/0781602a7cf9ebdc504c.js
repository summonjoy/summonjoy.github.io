(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(179);function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}var t,n,c;return t=e,(n=[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(n,r){e.browserSupport||r("Your browser does not support Speech Synthesis");var c=(0,o.isNil)(t.listeners)?{}:t.listeners,l=!!(0,o.isNil)(t.splitSentences)||t.splitSentences,h=(0,o.isNil)(t.lang)?void 0:t.lang,v=(0,o.isNil)(t.volume)?1:t.volume,f=(0,o.isNil)(t.rate)?1:t.rate,d=(0,o.isNil)(t.pitch)?1:t.pitch,m=(0,o.isNil)(t.voice)?void 0:t.voice;Object.keys(c).forEach((function(e){var t=c[e];"onvoiceschanged"!==e&&(speechSynthesis[e]=function(data){t&&t(data)})})),e._loadVoices().then((function(t){c.onvoiceschanged&&c.onvoiceschanged(t),!(0,o.isNil)(h)&&e.setLanguage(h),!(0,o.isNil)(m)&&e.setVoice(m),!(0,o.isNil)(v)&&e.setVolume(v),!(0,o.isNil)(f)&&e.setRate(f),!(0,o.isNil)(d)&&e.setPitch(d),!(0,o.isNil)(l)&&e.setSplitSentences(l),n({voices:t,lang:e.lang,voice:e.voice,volume:e.volume,rate:e.rate,pitch:e.pitch,splitSentences:e.splitSentences,browserSupport:e.browserSupport})})).catch((function(e){r(e)}))}))}},{key:"_fetchVoices",value:function(){return new Promise((function(e,t){setTimeout((function(){var n=speechSynthesis.getVoices();return(0,o.size)(n)>0?e(n):t("Could not fetch voices")}),100)}))}},{key:"_loadVoices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch((function(n){if(0===t)throw n;return e._loadVoices(t-1)}))}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var t,n=speechSynthesis.getVoices();if((0,o.isString)(e)&&(t=n.find((function(t){return t.name===e}))),(0,o.isObject)(e)&&(t=e),!t)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=t}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),!(0,o.validateLocale)(e))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";this.lang=e}},{key:"setVolume",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(e=parseFloat(e),!(!(0,o.isNan)(e)&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){this.splitSentences=e}},{key:"speak",value:function(data){var e=this;return new Promise((function(t,n){var text=data.text,r=data.listeners,c=void 0===r?{}:r,l=data.queue,h=void 0===l||l,v=(0,o.trim)(text);(0,o.isNil)(v)&&t(),!h&&e.cancel();var f=[],d=e.splitSentences?(0,o.splitSentences)(v):[v];d.forEach((function(r,l){var h=l===(0,o.size)(d)-1,v=new SpeechSynthesisUtterance;e.synthesisVoice&&(v.voice=e.synthesisVoice),e.lang&&(v.lang=e.lang),e.volume&&(v.volume=e.volume),e.rate&&(v.rate=e.rate),e.pitch&&(v.pitch=e.pitch),v.text=r,Object.keys(c).forEach((function(e){var o=c[e];v[e]=function(data){o&&o(data),"onerror"===e&&n({utterances:f,lastUtterance:v,error:data}),"onend"===e&&h&&t({utterances:f,lastUtterance:v})}})),f.push(v),speechSynthesis.speak(v)}))}))}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}])&&r(t.prototype,n),c&&r(t,c),e}();t.default=c},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trim=t.isObject=t.isNil=t.isNan=t.size=t.isString=t.validateLocale=t.splitSentences=void 0;t.splitSentences=function(){var text=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return text.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map((function(e){return c(e)})).filter(Boolean)};var o=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i;t.validateLocale=function(e){return"string"==typeof e&&o.test(e)};var r=function(e){return"string"==typeof e||e instanceof String};t.isString=r;t.size=function(e){return e&&Array.isArray(e)&&e.length?e.length:0};t.isNan=function(e){return"number"==typeof e&&isNaN(e)};t.isNil=function(e){return null==e};t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var c=function(e){return r(e)?e.trim():""};t.trim=c},181:function(e,t,n){"use strict";n.r(t);var o=n(178),r=n.n(o),c={data:function(){return{content:"",speech:null,voices:[],volume:1,lang:"en",rate:1.8,pitch:1,voice:"Fiona",rates:[.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2]}},watch:{voice:function(e){this.setVoice(e)},rate:function(e){this.setRate(e)}},mounted:function(){var e=this;this.speech=new r.a,this.speech.hasBrowserSupport()&&(this.$toast.show(),this.$toast.show("Mounted"),this.$nextTick((function(){e.init()})))},methods:{init:function(){var e=this;this.speech.init({volume:this.volume,lang:this.lang,rate:this.rate,pitch:this.pitch,splitSentences:!0,listeners:{onvoiceschanged:function(e){}}}).then((function(data){e.voices=data.voices,e.voice&&e.setVoice()})).catch((function(){e.$toast.show("Initializing went wrong!")}))},speak:function(){var text=this.content?this.content:"Oh, it's working";this.speech.speak({text:text,queue:!1}).then((function(){})).catch((function(e){}))},pause:function(){this.speech.pause()},resume:function(){this.speech.resume()},cancel:function(){this.speech.cancel()},setLanguage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US";this.speech.setLanguage(e)},setVoice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Karen";this.$toast.show(e),this.speech.setVoice(e)},setRate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.speech.setRate(e)},setVolume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.speech.setVolume(e)},setPitch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.speech.setPitch(e)},isPending:function(){this.$toast.show(this.speech.isPending)},isPaused:function(){this.$toast.show(this.speech.isPaused)},isSpeaking:function(){this.$toast.show(this.speech.isSpeaking)}}},l=n(25),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"min-h-screen bg-gray-200",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"k",void 0,t.key,void 0)?null:e.speak(t)}}},[n("div",{staticClass:"container p-8"},[n("h1",{staticClass:"text-2xl text-gray-900 font-sans mb-4"},[e._v("\n      Good to know that it's working..\n    ")]),e._v(" "),n("form",{staticClass:"shadow-md rounded px-8 py-6 mb-4"},[n("div",{staticClass:"text-xl font-semibold my-4"},[e._v("Content")]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],staticClass:"w-full h-64 bg-white p-3 overflow-auto",attrs:{name:"content",placeholder:"Write or paste your content."},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),e._v(" "),n("div",{staticClass:"flex flex-wrap"},[n("button",{staticClass:"flex-1 my-4 lg:mr-2 text-xl border border-green-600 px-4 py-1 rounded",on:{click:function(t){return t.preventDefault(),e.speak(t)}}},[e._v("\n          Play\n        ")]),e._v(" "),n("button",{staticClass:"flex-1 my-4 lg:mx-2 text-xl border border-pink-400 px-4 py-1 rounded",on:{click:function(t){return t.preventDefault(),e.pause(t)}}},[e._v("\n          Pause\n        ")]),e._v(" "),n("button",{staticClass:"flex-1 my-4 lg:mx-2 text-xl border border-pink-600 px-4 py-1 rounded",on:{click:function(t){return t.preventDefault(),e.resume(t)}}},[e._v("\n          Resume\n        ")]),e._v(" "),n("button",{staticClass:"flex-1 my-4 lg:mx-2 text-xl border border-gray-600 px-4 py-1 rounded",on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n          Stop\n        ")])]),e._v(" "),n("div",{staticClass:"text-xl font-semibold my-4"},[e._v("Settings")]),e._v(" "),n("div",{staticClass:"flex flex-wrap"},[n("div",{staticClass:"w-full lg:w-1/3"},[n("p",{staticClass:"font-semibold mb-2"},[e._v("Voices")]),e._v(" "),n("div",{staticClass:"flex"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.voice,expression:"voice"}],staticClass:"flex-1 mx-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.voice=t.target.multiple?n:n[0]}}},e._l(e.voices,(function(t){return n("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])})),0)])]),e._v(" "),n("div",{staticClass:"w-full lg:w-1/3"},[n("p",{staticClass:"font-semibold mb-2"},[e._v("Rate")]),e._v(" "),n("div",{staticClass:"flex"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.rate,expression:"rate"}],staticClass:"flex-1 mx-2",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.rate=t.target.multiple?n:n[0]}}},e._l(e.rates,(function(t){return n("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)])])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);